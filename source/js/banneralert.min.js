//banneralert.js
!function(){var a=setTimeout(function(){},0),b=0;$.fn.extend({showbanner:function(c){var f,g,h,i,j,k,l,d={title:"",icon:"",content:"",handle:!0,addclass:"",sound:"",position:"top",html:!1,show_duration:400,show_easing:"swing",duration:3e3,hide_duration:400,hide_easing:"swing",onClick:"",onHide:""},e=$.extend(d,c);""!=e.icon&&(e.icon="<img class='bannericon' src='"+e.icon+"' />"),f=1==e.handle?'<div class="bannerhandle"></div>':"",""!=e.sound&&(e.sound='<audio id="bannersound" autoplay="autoplay" src="'+e.sound+'"></audio>'),g=e.position,h=!1,i="",b++,"bottom"==g&&(i=f,f=""),j=function(a){return a=a.replace(/&/g,"&amp;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=a.replace(/"/g,"&quot;"),a=a.replace(/\n/g,"<br>")},1!=e.html&&(e.title=j(e.title),e.content=j(e.content)),k=function(){$(".banneralert").remove(),$("#bannersound").remove(),clearTimeout(a),$("body").append('<div class="banneralert '+e.addclass+'" style="position:fixed;width:100%;left:0;"><div class="bannercontainer">'+i+'<div class="bannertitlebar">'+e.icon+e.title+'</div><div class="bannercontent">'+e.content+"</div>"+f+"</div></div>"+e.sound),$(".banneralert").addClass("bannerID"+b),""!=e.sound&&(document.getElementById("bannersound").onended=function(){$("#bannersound").remove()});var c=$(".banneralert").outerHeight();$(".banneralert").css(g,-c),"bottom"!=g?$(".banneralert").animate({top:0},e.show_duration,e.show_easing,function(){a=setTimeout(function(){l(b)},e.duration)}):$(".banneralert").animate({bottom:0},e.show_duration,e.show_easing,function(){a=setTimeout(function(){l(b)},e.duration)}),$(".bannerhandle").click(function(){h=!0,l(b)}),$(".banneralert").click(function(){"function"==typeof e.onClick&&1!=h&&e.onClick()})},l=function(a){var b=$(".bannerID"+a).outerHeight();"bottom"!=g?$(".bannerID"+a).animate({top:-b},e.hide_duration,e.hide_easing,function(){$(".bannerID"+a).remove(),"function"==typeof e.onHide&&e.onHide()}):$(".bannerID"+a).animate({bottom:-b},e.hide_duration,e.hide_easing,function(){$(".bannerID"+a).remove(),"function"==typeof e.onHide&&e.onHide()})},k()}})}(jQuery);